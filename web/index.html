<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOA Monitor Creator</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ”§ SOA Monitor Creator</h1>
            <p>Create Safe Operating Area monitors based on Verilog-A implementations</p>
            <p class="header-note">Direct mapping to Spectre monitor models</p>
        </header>

        <div class="main-content">
            <!-- Left Panel: Monitor Form -->
            <div class="panel form-panel">
                <h2>Create New Monitor</h2>
                
                <form id="monitorForm">
                    <!-- Basic Information -->
                    <div class="form-section">
                        <h3>Basic Information</h3>
                        
                        <div class="form-group">
                            <label for="monitorName">Monitor Name *</label>
                            <input type="text" id="monitorName" placeholder="e.g., Cap Low Oxide Risk" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="monitorType">Monitor Type *</label>
                                <select id="monitorType" required>
                                    <option value="">Select monitor type...</option>
                                    <option value="ovcheck">ovcheck - Single branch voltage check</option>
                                    <option value="ovcheck6">ovcheck6 - Multi-branch voltage check (up to 6)</option>
                                    <option value="ovcheckva_mos2">ovcheckva_mos2 - MOS state-dependent check</option>
                                    <option value="ovcheckva_pwl">ovcheckva_pwl - Piecewise linear check</option>
                                    <option value="ovcheckva_ldmos_hci_tddb">ovcheckva_ldmos_hci_tddb - HCI/TDDB aging</option>
                                    <option value="parcheckva3">parcheckva3 - Parameter check</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="modelName">Model Name *</label>
                                <input type="text" id="modelName" placeholder="e.g., ovcheck_cap_low_oxrisk" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="section">Section Name *</label>
                                <input type="text" id="section" placeholder="e.g., soacheck_cap_low_oxrisk_shared" required>
                            </div>

                            <div class="form-group">
                                <label for="devicePattern">Device Pattern *</label>
                                <input type="text" id="devicePattern" placeholder="e.g., cap_low, nmos_core" required>
                            </div>
                        </div>
                    </div>

                    <!-- Common Parameters -->
                    <div class="form-section">
                        <h3>Common Parameters</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tmin">tmin</label>
                                <input type="text" id="tmin" value="global_tmin">
                            </div>

                            <div class="form-group">
                                <label for="tdelay">tdelay</label>
                                <input type="text" id="tdelay" value="global_tdelay">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="vballmsg">vballmsg</label>
                                <input type="text" id="vballmsg" value="global_vballmsg">
                            </div>

                            <div class="form-group">
                                <label for="stop">stop</label>
                                <input type="text" id="stop" value="global_stop">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="tmaxfrac">tmaxfrac (optional)</label>
                            <input type="text" id="tmaxfrac" placeholder="e.g., tmaxfrac0, tmaxfrac3">
                        </div>
                    </div>

                    <!-- Monitor-Specific Parameters (Dynamic) -->
                    <div id="specificParams" class="form-section" style="display: none;">
                        <h3>Monitor-Specific Parameters</h3>
                        <div id="specificParamsContent"></div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Add Monitor</button>
                        <button type="button" class="btn btn-secondary" id="clearForm">Clear Form</button>
                    </div>
                </form>
            </div>

            <!-- Right Panel: YAML Preview -->
            <div class="panel preview-panel">
                <div class="panel-header">
                    <h2>YAML Preview</h2>
                    <div class="panel-actions">
                        <button class="btn btn-small" id="copyYaml">Copy</button>
                        <button class="btn btn-small" id="downloadYaml">Download</button>
                    </div>
                </div>
                
                <pre id="yamlPreview" class="yaml-output">version: "1.0"
process: "SMOS10HV"
date: "2024-12-16"

global:
  timing:
    tmin: 0
    tdelay: 0
    vballmsg: 1.0
    stop: 0
  tmaxfrac:
    level0: 0
    level1: 0.01
    level2: 0.10
    level3: -1

parameters:
  global_tmin: 0
  global_tdelay: 0
  global_vballmsg: 1.0
  global_stop: 0
  tmaxfrac0: 0
  tmaxfrac1: 0.01
  tmaxfrac2: 0.10
  tmaxfrac3: -1

monitors:
  # Add monitors using the form
</pre>
            </div>
        </div>

        <!-- Monitor List -->
        <div class="panel list-panel">
            <h2>Added Monitors (<span id="monitorCount">0</span>)</h2>
            <div id="monitorList" class="monitor-list">
                <p class="empty-state">No monitors added yet. Use the form above to create monitors.</p>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
